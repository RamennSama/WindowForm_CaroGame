using System;
using System.Drawing;
using System.Windows.Forms;

namespace WindowFormLastVersion
{
    public partial class DifficultySelectForm : Form
    {
        public CaroGameForm.GameDifficulty SelectedDifficulty { get; private set; }
        public int MaxGames { get; private set; } = 5;

        private NumericUpDown numMaxGames;

        public DifficultySelectForm()
        {
            InitializeComponent();
            SetupForm();
        }

        private void InitializeComponent()
        {
            Text = "Select difficulty";
            Size = new Size(300, 250);
            StartPosition = FormStartPosition.CenterParent;
            FormBorderStyle = FormBorderStyle.FixedDialog;
            MaximizeBox = false;
            MinimizeBox = false;
            BackColor = Color.White;
        }

        private void SetupForm()
        {
            // Title
            var lblTitle = new Label
            {
                Text = "Game Settings",
                Font = new Font("Times New Roman", 14, FontStyle.Bold),
                Location = new Point(0, 10),
                Size = new Size(300, 25),
                TextAlign = ContentAlignment.MiddleCenter
            };

            var easyButton = new Button
            {
                Text = "Easy",
                Location = new Point(50, 40),
                Size = new Size(200, 30),
                BackColor = SystemColors.ActiveCaption,
                Font = new Font("Times New Roman", 13.8f)
            };
            easyButton.Click += (s, e) => SelectDifficulty(CaroGameForm.GameDifficulty.Easy);

            var mediumButton = new Button
            {
                Text = "Medium",
                Location = new Point(50, 80),
                Size = new Size(200, 30),
                BackColor = SystemColors.ActiveCaption,
                Font = new Font("Times New Roman", 13.8f)
            };
            mediumButton.Click += (s, e) => SelectDifficulty(CaroGameForm.GameDifficulty.Medium);

            var hardButton = new Button
            {
                Text = "Hard",
                Location = new Point(50, 120),
                Size = new Size(200, 30),
                BackColor = SystemColors.ActiveCaption,
                Font = new Font("Times New Roman", 13.8f)
            };
            hardButton.Click += (s, e) => SelectDifficulty(CaroGameForm.GameDifficulty.Hard);

            // Label for max games
            var lblMaxGames = new Label
            {
                Text = "Number of Games:",
                Font = new Font("Times New Roman", 12),
                Location = new Point(50, 165),
                Size = new Size(120, 20)
            };

            // Numeric up down for max games
            numMaxGames = new NumericUpDown
            {
                Font = new Font("Times New Roman", 12),
                Location = new Point(180, 165),
                Size = new Size(70, 20),
                Minimum = 1,
                Maximum = 10,
                Value = 5
            };

            Controls.AddRange(new Control[] { lblTitle, easyButton, mediumButton, hardButton, lblMaxGames, numMaxGames });
        }

        private void SelectDifficulty(CaroGameForm.GameDifficulty difficulty)
        {
            SelectedDifficulty = difficulty;
            MaxGames = (int)numMaxGames.Value;
            DialogResult = DialogResult.OK;
            Close();
        }
    }
}